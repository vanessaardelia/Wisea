{"version":3,"sources":["./src/app/reset-password/reset-password.page.html","./src/app/reset-password/reset-password-routing.module.ts","./src/app/reset-password/reset-password.module.ts","./src/app/reset-password/reset-password.page.scss","./src/app/reset-password/reset-password.page.ts"],"names":[],"mappings":"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","file":"reset-password-reset-password-module-es2015.js","sourcesContent":["export default \"<ion-content color=\\\"background\\\">\\r\\n  <ion-item-group id=\\\"container\\\">\\r\\n    <ion-img src=\\\"assets/login/lupa-password.svg\\\"></ion-img>\\r\\n    <ion-title>\\r\\n      <strong>Reset Password</strong>\\r\\n      <p>Kami tidak bisa reset pata hati kamu,<br> kalau sekedar reset password tentu bisa!</p>\\r\\n    </ion-title>\\r\\n    <form [formGroup]=\\\"resetPasswordForm\\\">\\r\\n      <mat-label>Nomor Telepon</mat-label>\\r\\n      <mat-form-field appearance=\\\"standard\\\">\\r\\n        <input matInput formControlName=\\\"phone\\\">\\r\\n        <mat-error *ngIf=\\\"(resetPasswordForm.get('phone').dirty || resetPasswordForm.get('phone').touched) && resetPasswordForm.get('phone').errors\\\">\\r\\n          <span *ngIf=\\\"resetPasswordForm.get('phone').errors.required\\\">Phone number is required</span>\\r\\n          <span *ngIf=\\\"resetPasswordForm.get('phone').errors.minlength || resetPasswordForm.get('phone').errors.maxlength\\\">Phone needs to be between 10 - 12 characters</span>\\r\\n        </mat-error>\\r\\n      </mat-form-field>\\r\\n    </form>\\r\\n    <ion-button (click)=\\\"reset()\\\" expand=\\\"full\\\" color=\\\"primary\\\" [disabled]=\\\"!resetPasswordForm.valid\\\" shape=\\\"round\\\" class=\\\"submit\\\">Lanjutkan</ion-button>\\r\\n    <ion-button routerLink=\\\"/login\\\" expand=\\\"full\\\" color=\\\"tertiary\\\" shape=\\\"round\\\">Batalkan</ion-button>\\r\\n  </ion-item-group>\\r\\n</ion-content>\\r\\n\";","import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\nimport { ResetPasswordPage } from './reset-password.page';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: ResetPasswordPage\r\n  },\r  {\n    path: 'email-confirmation',\n    loadChildren: () => import('./email-confirmation/email-confirmation.module').then( m => m.EmailConfirmationPageModule)\n  }\n\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule],\r\n})\r\nexport class ResetPasswordPageRoutingModule {}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport {FormsModule, ReactiveFormsModule} from '@angular/forms';\r\n\r\nimport { IonicModule } from '@ionic/angular';\r\n\r\nimport { ResetPasswordPageRoutingModule } from './reset-password-routing.module';\r\n\r\nimport { ResetPasswordPage } from './reset-password.page';\r\n\r\nimport { MatInputModule } from '@angular/material/input';\r\nimport { MatFormFieldModule } from '@angular/material/form-field';\r\n\r\n@NgModule({\r\n    imports: [\r\n        CommonModule,\r\n        FormsModule,\r\n        IonicModule,\r\n        ResetPasswordPageRoutingModule,\r\n        ReactiveFormsModule,\r\n        MatInputModule,\r\n        MatFormFieldModule\r\n    ],\r\n  declarations: [ResetPasswordPage]\r\n})\r\nexport class ResetPasswordPageModule {}\r\n","export default \"#container {\\n  position: absolute;\\n  left: 5%;\\n  right: 5%;\\n  top: 50%;\\n  transform: translateY(-50%);\\n  color: var(--ion-color-secondary-contrast);\\n}\\n#container ion-title {\\n  padding: 35px 0px;\\n  text-align: center;\\n}\\n#container strong {\\n  font-size: 32px;\\n  line-height: 28px;\\n  margin-top: 20px;\\n  color: var(--ion-color-primary);\\n}\\n#container p {\\n  font-size: 14px;\\n  color: #BDBDBD;\\n  line-height: 20px;\\n  font-weight: 350;\\n}\\n#container ion-img {\\n  display: block;\\n  margin-left: auto;\\n  margin-right: auto;\\n  width: 300px;\\n  height: 300px;\\n}\\n#container ion-button {\\n  margin-top: 10px;\\n  font-weight: 700;\\n}\\n.planeImg {\\n  left: 130px;\\n  top: 0%;\\n  z-index: 1;\\n  float: right;\\n  width: 200px;\\n  position: absolute;\\n  transform: rotate(-10deg);\\n}\\n.submit {\\n  margin-top: 30px;\\n}\\n.reset-password {\\n  float: right;\\n  margin: 0px;\\n  padding: 0px;\\n}\\nmat-form-field {\\n  width: 100%;\\n}\\nmat-label {\\n  /*change color of label*/\\n  color: #946E41 !important;\\n  font-weight: 500;\\n}\\n.mat-button.mat-primary .mat-button-focus-overlay {\\n  background-color: transparent;\\n}\\n::ng-deep .mat-form-field-underline {\\n  /*change color of underline*/\\n  background-color: #946E41 !important;\\n}\\n::ng-deep .mat-form-field-ripple {\\n  /*change color of underline when focused*/\\n  background-color: #946E41 !important;\\n}\\n::ng-deep .mat-form-field-wrapper {\\n  margin-bottom: 20px;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvcmVzZXQtcGFzc3dvcmQvcmVzZXQtcGFzc3dvcmQucGFnZS5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0Usa0JBQUE7RUFDQSxRQUFBO0VBQ0EsU0FBQTtFQUNBLFFBQUE7RUFDQSwyQkFBQTtFQUNBLDBDQUFBO0FBQ0Y7QUFDRTtFQUNFLGlCQUFBO0VBQ0Esa0JBQUE7QUFDSjtBQUVFO0VBQ0UsZUFBQTtFQUNBLGlCQUFBO0VBQ0EsZ0JBQUE7RUFDQSwrQkFBQTtBQUFKO0FBR0U7RUFDRSxlQUFBO0VBQ0EsY0FBQTtFQUNBLGlCQUFBO0VBQ0EsZ0JBQUE7QUFESjtBQUlFO0VBQ0UsY0FBQTtFQUNBLGlCQUFBO0VBQ0Esa0JBQUE7RUFDQSxZQUFBO0VBQ0EsYUFBQTtBQUZKO0FBS0U7RUFDRSxnQkFBQTtFQUNBLGdCQUFBO0FBSEo7QUFPQTtFQUNFLFdBQUE7RUFDQSxPQUFBO0VBQ0EsVUFBQTtFQUNBLFlBQUE7RUFDQSxZQUFBO0VBQ0Esa0JBQUE7RUFDQSx5QkFBQTtBQUpGO0FBT0E7RUFDRSxnQkFBQTtBQUpGO0FBT0E7RUFDRSxZQUFBO0VBQ0EsV0FBQTtFQUNBLFlBQUE7QUFKRjtBQU9BO0VBQ0UsV0FBQTtBQUpGO0FBT0E7RUFDRSx3QkFBQTtFQUNBLHlCQUFBO0VBQ0EsZ0JBQUE7QUFKRjtBQU9BO0VBQ0UsNkJBQUE7QUFKRjtBQVFFO0VBQ0UsNEJBQUE7RUFDQSxvQ0FBQTtBQUxKO0FBUUU7RUFDRSx5Q0FBQTtFQUNBLG9DQUFBO0FBTko7QUFTRTtFQUNFLG1CQUFBO0FBUEoiLCJmaWxlIjoic3JjL2FwcC9yZXNldC1wYXNzd29yZC9yZXNldC1wYXNzd29yZC5wYWdlLnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyIjY29udGFpbmVyIHtcclxuICBwb3NpdGlvbjogYWJzb2x1dGU7XHJcbiAgbGVmdDogNSU7XHJcbiAgcmlnaHQ6IDUlO1xyXG4gIHRvcDogNTAlO1xyXG4gIHRyYW5zZm9ybTogdHJhbnNsYXRlWSgtNTAlKTtcclxuICBjb2xvcjogdmFyKC0taW9uLWNvbG9yLXNlY29uZGFyeS1jb250cmFzdCk7XHJcblxyXG4gIGlvbi10aXRsZSB7XHJcbiAgICBwYWRkaW5nOiAzNXB4IDBweDtcclxuICAgIHRleHQtYWxpZ246IGNlbnRlcjtcclxuICB9XHJcblxyXG4gIHN0cm9uZyB7XHJcbiAgICBmb250LXNpemU6IDMycHg7XHJcbiAgICBsaW5lLWhlaWdodDogMjhweDtcclxuICAgIG1hcmdpbi10b3A6IDIwcHg7XHJcbiAgICBjb2xvcjogdmFyKC0taW9uLWNvbG9yLXByaW1hcnkpO1xyXG4gIH1cclxuXHJcbiAgcCB7XHJcbiAgICBmb250LXNpemU6IDE0cHg7XHJcbiAgICBjb2xvcjogI0JEQkRCRDtcclxuICAgIGxpbmUtaGVpZ2h0OiAyMHB4O1xyXG4gICAgZm9udC13ZWlnaHQ6IDM1MDtcclxuICB9XHJcblxyXG4gIGlvbi1pbWcge1xyXG4gICAgZGlzcGxheTogYmxvY2s7XHJcbiAgICBtYXJnaW4tbGVmdDogYXV0bztcclxuICAgIG1hcmdpbi1yaWdodDogYXV0bztcclxuICAgIHdpZHRoOiAzMDBweDtcclxuICAgIGhlaWdodDogMzAwcHg7XHJcbiAgfVxyXG5cclxuICBpb24tYnV0dG9uIHtcclxuICAgIG1hcmdpbi10b3A6IDEwcHg7XHJcbiAgICBmb250LXdlaWdodDogNzAwO1xyXG4gIH1cclxufVxyXG5cclxuLnBsYW5lSW1nIHtcclxuICBsZWZ0OiAxMzBweDtcclxuICB0b3A6IDAlO1xyXG4gIHotaW5kZXg6IDE7XHJcbiAgZmxvYXQ6IHJpZ2h0O1xyXG4gIHdpZHRoOiAyMDBweDtcclxuICBwb3NpdGlvbjogYWJzb2x1dGU7XHJcbiAgdHJhbnNmb3JtOiByb3RhdGUoLTEwZGVnKTtcclxufVxyXG5cclxuLnN1Ym1pdCB7XHJcbiAgbWFyZ2luLXRvcDogMzBweDtcclxufVxyXG5cclxuLnJlc2V0LXBhc3N3b3JkIHtcclxuICBmbG9hdDogcmlnaHQ7XHJcbiAgbWFyZ2luOiAwcHg7XHJcbiAgcGFkZGluZzogMHB4O1xyXG59XHJcblxyXG5tYXQtZm9ybS1maWVsZCB7XHJcbiAgd2lkdGg6IDEwMCU7XHJcbn1cclxuXHJcbm1hdC1sYWJlbCB7XHJcbiAgLypjaGFuZ2UgY29sb3Igb2YgbGFiZWwqL1xyXG4gIGNvbG9yOiAjOTQ2RTQxICFpbXBvcnRhbnQ7XHJcbiAgZm9udC13ZWlnaHQ6IDUwMDtcclxufVxyXG5cclxuLm1hdC1idXR0b24ubWF0LXByaW1hcnkgLm1hdC1idXR0b24tZm9jdXMtb3ZlcmxheSB7XHJcbiAgYmFja2dyb3VuZC1jb2xvcjogdHJhbnNwYXJlbnQ7XHJcbn1cclxuXHJcbjo6bmctZGVlcCB7XHJcbiAgLm1hdC1mb3JtLWZpZWxkLXVuZGVybGluZSB7XHJcbiAgICAvKmNoYW5nZSBjb2xvciBvZiB1bmRlcmxpbmUqL1xyXG4gICAgYmFja2dyb3VuZC1jb2xvcjogIzk0NkU0MSAhaW1wb3J0YW50O1xyXG4gIH1cclxuXHJcbiAgLm1hdC1mb3JtLWZpZWxkLXJpcHBsZSB7XHJcbiAgICAvKmNoYW5nZSBjb2xvciBvZiB1bmRlcmxpbmUgd2hlbiBmb2N1c2VkKi9cclxuICAgIGJhY2tncm91bmQtY29sb3I6ICM5NDZFNDEgIWltcG9ydGFudDtcclxuICB9XHJcblxyXG4gIC5tYXQtZm9ybS1maWVsZC13cmFwcGVye1xyXG4gICAgbWFyZ2luLWJvdHRvbTogMjBweDtcclxuICB9XHJcbn1cclxuIl19 */\";","import { Component, OnInit } from '@angular/core';\r\nimport {FormBuilder, FormGroup, Validators} from '@angular/forms';\r\nimport {Router} from '@angular/router';\r\nimport {AuthService} from '../service/auth.service';\r\nimport {AlertController, LoadingController} from \"@ionic/angular\";\r\n\r\n@Component({\r\n  selector: 'app-reset-password',\r\n  templateUrl: './reset-password.page.html',\r\n  styleUrls: ['./reset-password.page.scss'],\r\n})\r\nexport class ResetPasswordPage implements OnInit {\r\n  resetPasswordForm: FormGroup;\r\n\r\n  constructor(\r\n      private formBuilder: FormBuilder,\r\n      private router: Router,\r\n      private authService: AuthService,\r\n      private loadingController: LoadingController,\r\n      private alertController: AlertController,\r\n  ) { }\r\n\r\n  ngOnInit() {\r\n    this.resetPasswordForm = this.formBuilder.group({\r\n      phone: ['', [Validators.required, Validators.minLength(10), Validators.maxLength(12)]],\r\n    });\r\n  }\r\n\r\n  async reset() {\r\n    const loading = await this.loadingController.create();\r\n    await loading.present();\r\n\r\n    const phone = this.resetPasswordForm.value.phone;\r\n\r\n    this.authService.checkAvailablePhone(phone).subscribe((res: object) => {\r\n        console.log('Inputted phone number\\'s data: ', res[0]);\r\n        const userPhone = res[0].phone;\r\n        const userEmail = res[0].email;\r\n\r\n        if (userPhone === phone) {\r\n              this.authService.resetPassword(userEmail).then(() => {\r\n                  loading.dismiss();\r\n               this.presentAlert('Reset password sukses!', 'Silahkan mengkonfirmasi pesan yang telah dikirimkan melalui email anda');\r\n               this.router.navigateByUrl('/login', { replaceUrl: true });\r\n            }, async err => {\r\n               loading.dismiss();\r\n                  this.presentAlert('Reset password gagal', err.message);\r\n            });\r\n        } else {\r\n              loading.dismiss();\r\n            this.presentAlert('Reset password gagal', 'Nomor yang dimasukkan tidak terdaftar');\r\n        }\r\n    });\r\n  }\r\n\r\n  async presentAlert(header, message) {\r\n      const alert = await this.alertController.create({\r\n          header,\r\n          message,\r\n          buttons: ['OK'],\r\n      });\r\n\r\n      await alert.present();\r\n  }\r\n}\r\n"],"sourceRoot":"webpack:///"}