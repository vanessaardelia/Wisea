{"version":3,"sources":["webpack:///src/app/reset-password/reset-password.page.html","webpack:///src/app/reset-password/reset-password-routing.module.ts","webpack:///src/app/reset-password/reset-password.module.ts","webpack:///src/app/reset-password/reset-password.page.scss","webpack:///src/app/reset-password/reset-password.page.ts"],"names":["routes","path","component","ResetPasswordPageModule","imports","declarations","ResetPasswordPage","formBuilder","router","authService","loadingController","alertController","resetPasswordForm","group","phone","required","minLength","maxLength","create","loading","present","value","checkAvailablePhone","subscribe","res","console","log","userPhone","userEmail","email","resetPassword","then","dismiss","presentAlert","navigateByUrl","replaceUrl","err","message","header","buttons","alert","selector","template"],"mappings":"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","file":"reset-password-reset-password-module-es5.js","sourcesContent":["export default \"<ion-content color=\\\"background\\\">\\r\\n  <ion-item-group id=\\\"container\\\">\\r\\n    <ion-img src=\\\"assets/login/lupa-password.svg\\\"></ion-img>\\r\\n    <ion-title>\\r\\n      <strong>Reset Password</strong>\\r\\n      <p>Kami tidak bisa reset pata hati kamu,<br> kalau sekedar reset password tentu bisa!</p>\\r\\n    </ion-title>\\r\\n    <form [formGroup]=\\\"resetPasswordForm\\\">\\r\\n      <mat-label>Nomor Telepon</mat-label>\\r\\n      <mat-form-field appearance=\\\"standard\\\">\\r\\n        <input matInput formControlName=\\\"phone\\\">\\r\\n        <mat-error *ngIf=\\\"(resetPasswordForm.get('phone').dirty || resetPasswordForm.get('phone').touched) && resetPasswordForm.get('phone').errors\\\">\\r\\n          <span *ngIf=\\\"resetPasswordForm.get('phone').errors.required\\\">Phone number is required</span>\\r\\n          <span *ngIf=\\\"resetPasswordForm.get('phone').errors.minlength || resetPasswordForm.get('phone').errors.maxlength\\\">Phone needs to be between 10 - 12 characters</span>\\r\\n        </mat-error>\\r\\n      </mat-form-field>\\r\\n    </form>\\r\\n    <ion-button (click)=\\\"reset()\\\" expand=\\\"full\\\" color=\\\"primary\\\" [disabled]=\\\"!resetPasswordForm.valid\\\" shape=\\\"round\\\" class=\\\"submit\\\">Lanjutkan</ion-button>\\r\\n    <ion-button routerLink=\\\"/login\\\" expand=\\\"full\\\" color=\\\"tertiary\\\" shape=\\\"round\\\">Batalkan</ion-button>\\r\\n  </ion-item-group>\\r\\n</ion-content>\\r\\n\";","import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\nimport { ResetPasswordPage } from './reset-password.page';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: ResetPasswordPage\r\n  },\r  {\n    path: 'email-confirmation',\n    loadChildren: () => import('./email-confirmation/email-confirmation.module').then( m => m.EmailConfirmationPageModule)\n  }\n\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule],\r\n})\r\nexport class ResetPasswordPageRoutingModule {}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport {FormsModule, ReactiveFormsModule} from '@angular/forms';\r\n\r\nimport { IonicModule } from '@ionic/angular';\r\n\r\nimport { ResetPasswordPageRoutingModule } from './reset-password-routing.module';\r\n\r\nimport { ResetPasswordPage } from './reset-password.page';\r\n\r\nimport { MatInputModule } from '@angular/material/input';\r\nimport { MatFormFieldModule } from '@angular/material/form-field';\r\n\r\n@NgModule({\r\n    imports: [\r\n        CommonModule,\r\n        FormsModule,\r\n        IonicModule,\r\n        ResetPasswordPageRoutingModule,\r\n        ReactiveFormsModule,\r\n        MatInputModule,\r\n        MatFormFieldModule\r\n    ],\r\n  declarations: [ResetPasswordPage]\r\n})\r\nexport class ResetPasswordPageModule {}\r\n","export default \"#container {\\n  position: absolute;\\n  left: 5%;\\n  right: 5%;\\n  top: 50%;\\n  transform: translateY(-50%);\\n  color: var(--ion-color-secondary-contrast);\\n}\\n#container ion-title {\\n  padding: 35px 0px;\\n  text-align: center;\\n}\\n#container strong {\\n  font-size: 32px;\\n  line-height: 28px;\\n  margin-top: 20px;\\n  color: var(--ion-color-primary);\\n}\\n#container p {\\n  font-size: 14px;\\n  color: #BDBDBD;\\n  line-height: 20px;\\n  font-weight: 350;\\n}\\n#container ion-img {\\n  display: block;\\n  margin-left: auto;\\n  margin-right: auto;\\n  width: 300px;\\n  height: 300px;\\n}\\n#container ion-button {\\n  margin-top: 10px;\\n  font-weight: 700;\\n}\\n.planeImg {\\n  left: 130px;\\n  top: 0%;\\n  z-index: 1;\\n  float: right;\\n  width: 200px;\\n  position: absolute;\\n  transform: rotate(-10deg);\\n}\\n.submit {\\n  margin-top: 30px;\\n}\\n.reset-password {\\n  float: right;\\n  margin: 0px;\\n  padding: 0px;\\n}\\nmat-form-field {\\n  width: 100%;\\n}\\nmat-label {\\n  /*change color of label*/\\n  color: #946E41 !important;\\n  font-weight: 500;\\n}\\n.mat-button.mat-primary .mat-button-focus-overlay {\\n  background-color: transparent;\\n}\\n::ng-deep .mat-form-field-underline {\\n  /*change color of underline*/\\n  background-color: #946E41 !important;\\n}\\n::ng-deep .mat-form-field-ripple {\\n  /*change color of underline when focused*/\\n  background-color: #946E41 !important;\\n}\\n::ng-deep .mat-form-field-wrapper {\\n  margin-bottom: 20px;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvcmVzZXQtcGFzc3dvcmQvcmVzZXQtcGFzc3dvcmQucGFnZS5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0Usa0JBQUE7RUFDQSxRQUFBO0VBQ0EsU0FBQTtFQUNBLFFBQUE7RUFDQSwyQkFBQTtFQUNBLDBDQUFBO0FBQ0Y7QUFDRTtFQUNFLGlCQUFBO0VBQ0Esa0JBQUE7QUFDSjtBQUVFO0VBQ0UsZUFBQTtFQUNBLGlCQUFBO0VBQ0EsZ0JBQUE7RUFDQSwrQkFBQTtBQUFKO0FBR0U7RUFDRSxlQUFBO0VBQ0EsY0FBQTtFQUNBLGlCQUFBO0VBQ0EsZ0JBQUE7QUFESjtBQUlFO0VBQ0UsY0FBQTtFQUNBLGlCQUFBO0VBQ0Esa0JBQUE7RUFDQSxZQUFBO0VBQ0EsYUFBQTtBQUZKO0FBS0U7RUFDRSxnQkFBQTtFQUNBLGdCQUFBO0FBSEo7QUFPQTtFQUNFLFdBQUE7RUFDQSxPQUFBO0VBQ0EsVUFBQTtFQUNBLFlBQUE7RUFDQSxZQUFBO0VBQ0Esa0JBQUE7RUFDQSx5QkFBQTtBQUpGO0FBT0E7RUFDRSxnQkFBQTtBQUpGO0FBT0E7RUFDRSxZQUFBO0VBQ0EsV0FBQTtFQUNBLFlBQUE7QUFKRjtBQU9BO0VBQ0UsV0FBQTtBQUpGO0FBT0E7RUFDRSx3QkFBQTtFQUNBLHlCQUFBO0VBQ0EsZ0JBQUE7QUFKRjtBQU9BO0VBQ0UsNkJBQUE7QUFKRjtBQVFFO0VBQ0UsNEJBQUE7RUFDQSxvQ0FBQTtBQUxKO0FBUUU7RUFDRSx5Q0FBQTtFQUNBLG9DQUFBO0FBTko7QUFTRTtFQUNFLG1CQUFBO0FBUEoiLCJmaWxlIjoic3JjL2FwcC9yZXNldC1wYXNzd29yZC9yZXNldC1wYXNzd29yZC5wYWdlLnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyIjY29udGFpbmVyIHtcclxuICBwb3NpdGlvbjogYWJzb2x1dGU7XHJcbiAgbGVmdDogNSU7XHJcbiAgcmlnaHQ6IDUlO1xyXG4gIHRvcDogNTAlO1xyXG4gIHRyYW5zZm9ybTogdHJhbnNsYXRlWSgtNTAlKTtcclxuICBjb2xvcjogdmFyKC0taW9uLWNvbG9yLXNlY29uZGFyeS1jb250cmFzdCk7XHJcblxyXG4gIGlvbi10aXRsZSB7XHJcbiAgICBwYWRkaW5nOiAzNXB4IDBweDtcclxuICAgIHRleHQtYWxpZ246IGNlbnRlcjtcclxuICB9XHJcblxyXG4gIHN0cm9uZyB7XHJcbiAgICBmb250LXNpemU6IDMycHg7XHJcbiAgICBsaW5lLWhlaWdodDogMjhweDtcclxuICAgIG1hcmdpbi10b3A6IDIwcHg7XHJcbiAgICBjb2xvcjogdmFyKC0taW9uLWNvbG9yLXByaW1hcnkpO1xyXG4gIH1cclxuXHJcbiAgcCB7XHJcbiAgICBmb250LXNpemU6IDE0cHg7XHJcbiAgICBjb2xvcjogI0JEQkRCRDtcclxuICAgIGxpbmUtaGVpZ2h0OiAyMHB4O1xyXG4gICAgZm9udC13ZWlnaHQ6IDM1MDtcclxuICB9XHJcblxyXG4gIGlvbi1pbWcge1xyXG4gICAgZGlzcGxheTogYmxvY2s7XHJcbiAgICBtYXJnaW4tbGVmdDogYXV0bztcclxuICAgIG1hcmdpbi1yaWdodDogYXV0bztcclxuICAgIHdpZHRoOiAzMDBweDtcclxuICAgIGhlaWdodDogMzAwcHg7XHJcbiAgfVxyXG5cclxuICBpb24tYnV0dG9uIHtcclxuICAgIG1hcmdpbi10b3A6IDEwcHg7XHJcbiAgICBmb250LXdlaWdodDogNzAwO1xyXG4gIH1cclxufVxyXG5cclxuLnBsYW5lSW1nIHtcclxuICBsZWZ0OiAxMzBweDtcclxuICB0b3A6IDAlO1xyXG4gIHotaW5kZXg6IDE7XHJcbiAgZmxvYXQ6IHJpZ2h0O1xyXG4gIHdpZHRoOiAyMDBweDtcclxuICBwb3NpdGlvbjogYWJzb2x1dGU7XHJcbiAgdHJhbnNmb3JtOiByb3RhdGUoLTEwZGVnKTtcclxufVxyXG5cclxuLnN1Ym1pdCB7XHJcbiAgbWFyZ2luLXRvcDogMzBweDtcclxufVxyXG5cclxuLnJlc2V0LXBhc3N3b3JkIHtcclxuICBmbG9hdDogcmlnaHQ7XHJcbiAgbWFyZ2luOiAwcHg7XHJcbiAgcGFkZGluZzogMHB4O1xyXG59XHJcblxyXG5tYXQtZm9ybS1maWVsZCB7XHJcbiAgd2lkdGg6IDEwMCU7XHJcbn1cclxuXHJcbm1hdC1sYWJlbCB7XHJcbiAgLypjaGFuZ2UgY29sb3Igb2YgbGFiZWwqL1xyXG4gIGNvbG9yOiAjOTQ2RTQxICFpbXBvcnRhbnQ7XHJcbiAgZm9udC13ZWlnaHQ6IDUwMDtcclxufVxyXG5cclxuLm1hdC1idXR0b24ubWF0LXByaW1hcnkgLm1hdC1idXR0b24tZm9jdXMtb3ZlcmxheSB7XHJcbiAgYmFja2dyb3VuZC1jb2xvcjogdHJhbnNwYXJlbnQ7XHJcbn1cclxuXHJcbjo6bmctZGVlcCB7XHJcbiAgLm1hdC1mb3JtLWZpZWxkLXVuZGVybGluZSB7XHJcbiAgICAvKmNoYW5nZSBjb2xvciBvZiB1bmRlcmxpbmUqL1xyXG4gICAgYmFja2dyb3VuZC1jb2xvcjogIzk0NkU0MSAhaW1wb3J0YW50O1xyXG4gIH1cclxuXHJcbiAgLm1hdC1mb3JtLWZpZWxkLXJpcHBsZSB7XHJcbiAgICAvKmNoYW5nZSBjb2xvciBvZiB1bmRlcmxpbmUgd2hlbiBmb2N1c2VkKi9cclxuICAgIGJhY2tncm91bmQtY29sb3I6ICM5NDZFNDEgIWltcG9ydGFudDtcclxuICB9XHJcblxyXG4gIC5tYXQtZm9ybS1maWVsZC13cmFwcGVye1xyXG4gICAgbWFyZ2luLWJvdHRvbTogMjBweDtcclxuICB9XHJcbn1cclxuIl19 */\";","import { Component, OnInit } from '@angular/core';\r\nimport {FormBuilder, FormGroup, Validators} from '@angular/forms';\r\nimport {Router} from '@angular/router';\r\nimport {AuthService} from '../service/auth.service';\r\nimport {AlertController, LoadingController} from \"@ionic/angular\";\r\n\r\n@Component({\r\n  selector: 'app-reset-password',\r\n  templateUrl: './reset-password.page.html',\r\n  styleUrls: ['./reset-password.page.scss'],\r\n})\r\nexport class ResetPasswordPage implements OnInit {\r\n  resetPasswordForm: FormGroup;\r\n\r\n  constructor(\r\n      private formBuilder: FormBuilder,\r\n      private router: Router,\r\n      private authService: AuthService,\r\n      private loadingController: LoadingController,\r\n      private alertController: AlertController,\r\n  ) { }\r\n\r\n  ngOnInit() {\r\n    this.resetPasswordForm = this.formBuilder.group({\r\n      phone: ['', [Validators.required, Validators.minLength(10), Validators.maxLength(12)]],\r\n    });\r\n  }\r\n\r\n  async reset() {\r\n    const loading = await this.loadingController.create();\r\n    await loading.present();\r\n\r\n    const phone = this.resetPasswordForm.value.phone;\r\n\r\n    this.authService.checkAvailablePhone(phone).subscribe((res: object) => {\r\n        console.log('Inputted phone number\\'s data: ', res[0]);\r\n        const userPhone = res[0].phone;\r\n        const userEmail = res[0].email;\r\n\r\n        if (userPhone === phone) {\r\n              this.authService.resetPassword(userEmail).then(() => {\r\n                  loading.dismiss();\r\n               this.presentAlert('Reset password sukses!', 'Silahkan mengkonfirmasi pesan yang telah dikirimkan melalui email anda');\r\n               this.router.navigateByUrl('/login', { replaceUrl: true });\r\n            }, async err => {\r\n               loading.dismiss();\r\n                  this.presentAlert('Reset password gagal', err.message);\r\n            });\r\n        } else {\r\n              loading.dismiss();\r\n            this.presentAlert('Reset password gagal', 'Nomor yang dimasukkan tidak terdaftar');\r\n        }\r\n    });\r\n  }\r\n\r\n  async presentAlert(header, message) {\r\n      const alert = await this.alertController.create({\r\n          header,\r\n          message,\r\n          buttons: ['OK'],\r\n      });\r\n\r\n      await alert.present();\r\n  }\r\n}\r\n"]}