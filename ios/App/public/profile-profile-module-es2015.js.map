{"version":3,"sources":["./src/app/menu/profile/profile.page.html","./src/app/menu/profile/profile-routing.module.ts","./src/app/menu/profile/profile.module.ts","./src/app/menu/profile/profile.page.scss","./src/app/menu/profile/profile.page.ts"],"names":[],"mappings":"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","file":"profile-profile-module-es2015.js","sourcesContent":["export default \"<ion-header>\\r\\n  <ion-toolbar color=\\\"primary\\\">\\r\\n    <ion-buttons routerLink=\\\"/history\\\" slot=\\\"end\\\">\\r\\n      <ion-badge class=\\\"notifications-badge\\\" color=\\\"danger\\\" mode=\\\"ios\\\" *ngIf=\\\"historyCount > 0\\\">{{ historyCount }}</ion-badge>\\r\\n      <ion-icon class=\\\"header__icon\\\" name=\\\"bag-check\\\"></ion-icon>\\r\\n    </ion-buttons>\\r\\n    <ion-title class=\\\"ion-text-center\\\">\\r\\n      Wisea\\r\\n    </ion-title>\\r\\n    <ion-buttons slot=\\\"start\\\">\\r\\n      <ion-menu-button menu=\\\"main-menu\\\"></ion-menu-button>\\r\\n    </ion-buttons>\\r\\n  </ion-toolbar>\\r\\n</ion-header>\\r\\n\\r\\n<ion-content [fullscreen]=\\\"true\\\" color=\\\"background\\\">\\r\\n  <ion-item-group id=\\\"container\\\">\\r\\n    <ion-item lines='none'>\\r\\n      <ion-avatar class=\\\"proflePic\\\">\\r\\n        <ion-img src=\\\"{{ userProfile?.photo }}\\\"></ion-img>\\r\\n      </ion-avatar>\\r\\n    </ion-item>\\r\\n    <ion-title size=\\\"large\\\" class=\\\"ion-text-center userName\\\">{{ userProfile?.username }}</ion-title>\\r\\n    <ion-label style=\\\"padding-top: 30px\\\">{{ userProfile?.name }}</ion-label>\\r\\n    <ion-label class=\\\"ion-padding-top\\\">{{ userProfile?.email }}</ion-label>\\r\\n    <ion-label class=\\\"ion-padding-top\\\">\\r\\n      <ion-icon name=\\\"phone-portrait-sharp\\\"></ion-icon>{{ userProfile?.phone }}\\r\\n    </ion-label>\\r\\n    <ion-item lines='none'>\\r\\n      <ion-card>\\r\\n        <ion-grid>\\r\\n          <ion-row class=\\\"ion-align-items-center ion-text-center\\\">\\r\\n            <ion-col size=\\\"8\\\">\\r\\n              <p>Saldo kamu</p>\\r\\n              <p>{{ userProfile?.balance | currency:'IDR':'symbol-narrow':'1.0' }}</p>\\r\\n            </ion-col>\\r\\n            <div class=\\\"verticalLine\\\"></div>\\r\\n            <ion-col size=\\\"4\\\">\\r\\n              <ion-button (click)=\\\"topupAlert()\\\">Topup</ion-button>\\r\\n            </ion-col>\\r\\n          </ion-row>\\r\\n        </ion-grid>\\r\\n      </ion-card>\\r\\n    </ion-item>\\r\\n    <ion-button expand=\\\"block\\\" shape=\\\"round\\\" color=\\\"primary\\\" style=\\\"margin-bottom: 80px\\\" routerLink=\\\"/menu/tabs/profile/edit-profile\\\">Edit Profile</ion-button>\\r\\n  </ion-item-group>\\r\\n</ion-content>\\r\\n\";","import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\nimport { ProfilePage } from './profile.page';\r\nimport {canActivate, redirectUnauthorizedTo} from '@angular/fire/auth-guard';\r\n\r\nconst redirectUnauthorizedToLogin = () => redirectUnauthorizedTo(['/']);\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: ProfilePage,\r\n    ...canActivate(redirectUnauthorizedToLogin),\r\n  },\r\n  {\r\n    path: 'edit-profile',\r\n    loadChildren: () => import('./edit-profile/edit-profile.module').then( m => m.EditProfilePageModule)\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule],\r\n})\r\nexport class ProfilePageRoutingModule {}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\n\r\nimport { IonicModule } from '@ionic/angular';\r\n\r\nimport { ProfilePageRoutingModule } from './profile-routing.module';\r\n\r\nimport { ProfilePage } from './profile.page';\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    IonicModule,\r\n    ProfilePageRoutingModule\r\n  ],\r\n  declarations: [ProfilePage]\r\n})\r\nexport class ProfilePageModule {}\r\n","export default \"#container {\\n  position: absolute;\\n  left: 5%;\\n  right: 5%;\\n  top: 5%;\\n  color: var(--ion-color-secondary-contrast);\\n}\\n\\n#container ion-item {\\n  margin-top: 30px;\\n}\\n\\n#container ion-label {\\n  font-size: 16px;\\n  text-align: center;\\n}\\n\\n#container ion-img {\\n  display: block;\\n  margin-left: auto;\\n  margin-right: auto;\\n}\\n\\n#container ion-card {\\n  margin: 30px 0 !important;\\n  border: 2px solid black;\\n  border-radius: 20px;\\n  width: 100%;\\n  color: var(--ion-color-secondary-contrast);\\n}\\n\\n.verticalLine {\\n  width: 2px;\\n  top: 0%;\\n  bottom: 0%;\\n  left: 65%;\\n  background: black;\\n  margin: 0 auto;\\n  position: absolute;\\n  border-radius: 2px;\\n}\\n\\n.userName {\\n  margin-top: 30px;\\n  font-size: 28px;\\n  font-weight: 600;\\n}\\n\\n.proflePic {\\n  height: 200px;\\n  width: 200px;\\n  margin: 30px auto 0px auto;\\n}\\n\\n.notifications-badge {\\n  position: absolute;\\n  top: -3px;\\n  right: -4px;\\n  font-size: 10px;\\n}\\n\\n.header__icon {\\n  font-size: 24px;\\n  z-index: -1;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvbWVudS9wcm9maWxlL3Byb2ZpbGUucGFnZS5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0Usa0JBQUE7RUFDQSxRQUFBO0VBQ0EsU0FBQTtFQUNBLE9BQUE7RUFDQSwwQ0FBQTtBQUNGOztBQUVBO0VBQ0UsZ0JBQUE7QUFDRjs7QUFFQTtFQUNFLGVBQUE7RUFDQSxrQkFBQTtBQUNGOztBQUVBO0VBQ0UsY0FBQTtFQUNBLGlCQUFBO0VBQ0Esa0JBQUE7QUFDRjs7QUFFQTtFQUNFLHlCQUFBO0VBQ0EsdUJBQUE7RUFDQSxtQkFBQTtFQUNBLFdBQUE7RUFDQSwwQ0FBQTtBQUNGOztBQUVBO0VBQ0UsVUFBQTtFQUNBLE9BQUE7RUFDQSxVQUFBO0VBQ0EsU0FBQTtFQUNBLGlCQUFBO0VBQ0EsY0FBQTtFQUNBLGtCQUFBO0VBQ0Esa0JBQUE7QUFDRjs7QUFFQTtFQUNFLGdCQUFBO0VBQ0EsZUFBQTtFQUNBLGdCQUFBO0FBQ0Y7O0FBRUE7RUFDRSxhQUFBO0VBQ0EsWUFBQTtFQUNBLDBCQUFBO0FBQ0Y7O0FBR0U7RUFDRSxrQkFBQTtFQUNBLFNBQUE7RUFDQSxXQUFBO0VBQ0EsZUFBQTtBQUFKOztBQUtFO0VBQ0UsZUFBQTtFQUNBLFdBQUE7QUFGSiIsImZpbGUiOiJzcmMvYXBwL21lbnUvcHJvZmlsZS9wcm9maWxlLnBhZ2Uuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIiNjb250YWluZXIge1xyXG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcclxuICBsZWZ0OiA1JTtcclxuICByaWdodDogNSU7XHJcbiAgdG9wOiA1JTtcclxuICBjb2xvcjogdmFyKC0taW9uLWNvbG9yLXNlY29uZGFyeS1jb250cmFzdCk7XHJcbn1cclxuXHJcbiNjb250YWluZXIgaW9uLWl0ZW0ge1xyXG4gIG1hcmdpbi10b3A6IDMwcHg7XHJcbn1cclxuXHJcbiNjb250YWluZXIgaW9uLWxhYmVsIHtcclxuICBmb250LXNpemU6IDE2cHg7XHJcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xyXG59XHJcblxyXG4jY29udGFpbmVyIGlvbi1pbWcge1xyXG4gIGRpc3BsYXk6IGJsb2NrO1xyXG4gIG1hcmdpbi1sZWZ0OiBhdXRvO1xyXG4gIG1hcmdpbi1yaWdodDogYXV0bztcclxufVxyXG5cclxuI2NvbnRhaW5lciBpb24tY2FyZCB7XHJcbiAgbWFyZ2luOiAzMHB4IDAgIWltcG9ydGFudDtcclxuICBib3JkZXI6IDJweCBzb2xpZCBibGFjaztcclxuICBib3JkZXItcmFkaXVzOiAyMHB4O1xyXG4gIHdpZHRoOiAxMDAlO1xyXG4gIGNvbG9yOiB2YXIoLS1pb24tY29sb3Itc2Vjb25kYXJ5LWNvbnRyYXN0KTtcclxufVxyXG5cclxuLnZlcnRpY2FsTGluZSB7XHJcbiAgd2lkdGg6IDJweDtcclxuICB0b3A6IDAlO1xyXG4gIGJvdHRvbTogMCU7XHJcbiAgbGVmdDogNjUlO1xyXG4gIGJhY2tncm91bmQ6IGJsYWNrO1xyXG4gIG1hcmdpbjogMCBhdXRvO1xyXG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcclxuICBib3JkZXItcmFkaXVzOiAycHg7XHJcbn1cclxuXHJcbi51c2VyTmFtZXtcclxuICBtYXJnaW4tdG9wOiAzMHB4O1xyXG4gIGZvbnQtc2l6ZTogMjhweDtcclxuICBmb250LXdlaWdodDogNjAwO1xyXG59XHJcblxyXG4ucHJvZmxlUGljIHtcclxuICBoZWlnaHQ6IDIwMHB4O1xyXG4gIHdpZHRoOiAyMDBweDtcclxuICBtYXJnaW46IDMwcHggYXV0byAwcHggYXV0bztcclxufVxyXG5cclxuLm5vdGlmaWNhdGlvbnMge1xyXG4gICYtYmFkZ2Uge1xyXG4gICAgcG9zaXRpb246IGFic29sdXRlO1xyXG4gICAgdG9wOiAtM3B4O1xyXG4gICAgcmlnaHQ6IC00cHg7XHJcbiAgICBmb250LXNpemU6IDEwcHg7XHJcbiAgfVxyXG59XHJcblxyXG4uaGVhZGVyIHtcclxuICAmX19pY29uIHtcclxuICAgIGZvbnQtc2l6ZTogMjRweDtcclxuICAgIHotaW5kZXg6IC0xO1xyXG4gIH1cclxufVxyXG4iXX0= */\";","import { Component, OnInit } from '@angular/core';\r\nimport {AuthService} from '../../service/auth.service';\r\nimport {AlertController, LoadingController} from '@ionic/angular';\r\nimport {AngularFirestore} from \"@angular/fire/firestore\";\r\nimport {Wisata} from \"../../model/wisata.interface\";\r\n\r\n@Component({\r\n  selector: 'app-profile',\r\n  templateUrl: './profile.page.html',\r\n  styleUrls: ['./profile.page.scss'],\r\n})\r\nexport class ProfilePage implements OnInit {\r\n  userProfile: any;\r\n  private currentPhoto: string;\r\n  historyCount: number;\r\n\r\n  constructor(\r\n      private authService: AuthService,\r\n      private loadingController: LoadingController,\r\n      private alertController: AlertController,\r\n      private firestore: AngularFirestore,\r\n      ) { }\r\n\r\n  ngOnInit() {\r\n  }\r\n\r\n  async ionViewWillEnter() {\r\n    const loading = await this.loadingController.create();\r\n    await loading.present();\r\n\r\n    this.authService.getUserData().subscribe(ref => {\r\n      this.authService.getUserPhotoUrl(ref.photo).subscribe(res => {\r\n        loading.dismiss();\r\n\r\n        this.userProfile = ref;\r\n        this.userProfile.photo = res;\r\n\r\n        this.firestore.collection<Wisata>('history', ref => {\r\n          return ref.where('email', '==', this.userProfile.email).where('open', '==', false);\r\n        }).valueChanges().subscribe(res => {\r\n          this.historyCount = res.length;\r\n        });\r\n      });\r\n    });\r\n  }\r\n\r\n\r\n  async topupAlert() {\r\n    const alert = await this.alertController.create({\r\n      cssClass: 'my-custom-class',\r\n      message: 'Silahkan memilih jumlah topup yang diinginkan.',\r\n      buttons: [\r\n        {\r\n          text: '10.000',\r\n          handler: () => {\r\n            const totalAmount = this.userProfile.balance + 10000;\r\n            this.authService.topupBalance(totalAmount);\r\n          }\r\n        }, {\r\n          text: '50.000',\r\n          handler: () => {\r\n            const totalAmount = this.userProfile.balance + 50000;\r\n            this.authService.topupBalance(totalAmount);\r\n          }\r\n        }, {\r\n          text: '100.000',\r\n          handler: () => {\r\n            const totalAmount = this.userProfile.balance + 100000;\r\n            this.authService.topupBalance(totalAmount);\r\n          }\r\n        }\r\n      ]\r\n    });\r\n\r\n    await alert.present();\r\n  }\r\n}\r\n"],"sourceRoot":"webpack:///"}